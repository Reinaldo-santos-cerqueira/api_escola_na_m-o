(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-621e"],{"0txt":function(t,e,i){"use strict";var n=i("M9r2");i.n(n).a},"3FMA":function(t,e,i){"use strict";var n=i("ID0Q");i.n(n).a},"3j9E":function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return a}));var n=function(){var t=this.$createElement;this._self._c;return this._m(0)},a=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"jsoneditor-vue"})])}]},ID0Q:function(t,e,i){},M9r2:function(t,e,i){},O0nT:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=l(i("Yz+Y")),a=l(i("iCc5")),s=l(i("V7oC")),r=l(i("FYw3")),o=l(i("tfYw")),u=l(i("mRg0"));function l(t){return t&&t.__esModule?t:{default:t}}i("drU8");var d=i("0fIc").JSONEditor;e.default={props:{value:{type:Object,default:function(){}},schema:{type:Object,default:function(){}}},data:function(){return{editor:null,error:!1,json:this.value,internalChange:!1}},watch:{},mounted:function(){this.update()},methods:{update:function(){var t=this,e={schema:this.schema,startval:this.value,theme:"bootstrap4",iconlib:"materialicons",required_by_default:!0};this.editor&&this.editor.destroy(),this.editor=new d(this.$el.querySelector(".jsoneditor-vue"),e);var i=!0;this.editor.on("change",(function(){i?i=!1:t.$emit("input",t.editor.getValue())}));var n;(n=document.querySelector(".je-modal .je-edit-json--textarea")).classList.remove("je-edit-json--textarea"),n.classList.add("expandable-textarea")},onSave:function(){this.$emit("json-save",this.json)}}},d&&(d.defaults.resolvers.unshift((function(t){if("object"===t.type&&"schema"===t.format)return"schema"})),d.defaults.editors.schema=function(t){function e(){return(0,a.default)(this,e),(0,r.default)(this,(e.__proto__||(0,n.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,s.default)(e,[{key:"setValue",value:function(t,e){this.value=t,this.schemaeditor.setValue(t),this.onChange()}},{key:"getValue",value:function(){return void 0!==this.schemaeditor?this.schemaeditor.getValue():{}}},{key:"register",value:function(){(0,o.default)(e.prototype.__proto__||(0,n.default)(e.prototype),"register",this).call(this),this.input&&this.input.setAttribute("name",this.formname)}},{key:"unregister",value:function(){(0,o.default)(e.prototype.__proto__||(0,n.default)(e.prototype),"unregister",this).call(this),this.input&&this.input.removeAttribute("name")}},{key:"getNumColumns",value:function(){return 12}},{key:"build",value:function(){var t=this;this.options.compact||(this.label=this.header=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.options.compact&&(this.container.className+=" compact"),this.input=document.createElement("div"),this.control=this.theme.getFormControl(this.label,this.input,this.description),(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,this.input.disabled=!0),this.container.appendChild(this.control),this.schemaeditor=new window.JSONSchemaEditor(this.input,{startval:{}}),this.schemaeditor.on("change",(function(){t.onChange(!0)}))}},{key:"enable",value:function(){this.always_disabled||(this.input.disabled=!1),(0,o.default)(e.prototype.__proto__||(0,n.default)(e.prototype),"enable",this).call(this)}},{key:"disable",value:function(){this.input.disabled=!0,(0,o.default)(e.prototype.__proto__||(0,n.default)(e.prototype),"disable",this).call(this)}},{key:"destroy",value:function(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),(0,o.default)(e.prototype.__proto__||(0,n.default)(e.prototype),"destroy",this).call(this)}}]),e}(d.AbstractEditor))},S1Uu:function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"container"},[i("div",{staticClass:"error-message"},[t._v("\n      "+t._s(t.error)+"\n    ")]),t._v(" "),t.ready?[t.ready?i("JSONEditor",{attrs:{schema:t.schema},model:{value:t.data,callback:function(e){t.data=e},expression:"data"}}):t._e(),t._v(" "),i("div",[i("button",{staticClass:"btn btn-primary",on:{click:t.install}},[t._v("\n          Install\n        ")])])]:t._e()],2)])},a=[]},"T/Cm":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=o(i("D3Ub")),s=o(i("t3Un")),r=o(i("fKSE"));function o(t){return t&&t.__esModule?t:{default:t}}e.default={name:"Install",components:{JSONEditor:r.default},data:function(){return{data:{},ready:!1}},watch:{"$route.path":{handler:"update"}},mounted:(n=(0,a.default)((function*(){this.update()})),function(){return n.apply(this,arguments)}),methods:{update:function(){var t=this;return(0,a.default)((function*(){t.schema=(yield(0,s.default)({url:"/install/settings/schema"})).data.schema,t.ready=!0}))()},install:function(){var t=this;return(0,a.default)((function*(){yield(0,s.default)({method:"post",url:"/install",data:{settings:t.data,modules:["collections","core","logging","permissions"]}});var e=t.data.email,i=t.data.password;yield(0,s.default)({method:"post",url:"/users/register",data:{email:e,roles:["Admin"],password:i}}),t.$store.dispatch("Login",{username:e,password:i}).then((function(){t.loading=!1,t.$router.push({path:t.redirect||"/"})})).catch((function(){t.loading=!1}))}))()}}}},XZgb:function(t,e,i){"use strict";i.r(e);var n=i("O0nT"),a=i.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e.default=a.a},fKSE:function(t,e,i){"use strict";i.r(e);var n=i("3j9E"),a=i("XZgb");for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);i("3FMA");var r=i("KHd+"),o=Object(r.a)(a.default,n.a,n.b,!1,null,null,null);o.options.__file="JSONEditor.vue",e.default=o.exports},l2Fg:function(t,e,i){"use strict";i.r(e);var n=i("S1Uu"),a=i("w7lz");for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);i("0txt");var r=i("KHd+"),o=Object(r.a)(a.default,n.a,n.b,!1,null,"3c5b79e9",null);o.options.__file="Install.vue",e.default=o.exports},w7lz:function(t,e,i){"use strict";i.r(e);var n=i("T/Cm"),a=i.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e.default=a.a}}]);